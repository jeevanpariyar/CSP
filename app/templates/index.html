<!DOCTYPE html>
<html>
<head>
    <title>CSP Landing Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Subscribe to Our Premium Service (YOLO Telecom)</h4>
        </div>
        <div class="card-body">
            <form action="/subscribe" method="post">
                <div class="mb-3">
                    <label class="form-label">Mobile Number (MSISDN)</label>
                    <input type="text" name="msisdn" class="form-control" placeholder="Enter your number" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Offer Code</label>
                    <input type="text" name="offer_code" class="form-control" placeholder="Enter the Offer Code" required>
                </div>
                <button type="submit" class="btn btn-success">Subscribe</button>
            </form>

            <hr class="my-4">

            <div class="d-flex justify-content-between">
                <a href="/onboard" class="btn btn-warning">New? Onboard Here</a>
                <a href="/csp-login" class="btn btn-primary">Already Onboarded? Login</a>
            </div>
        </div>
    </div>
</div>
</body>
</html>













<!--Bot Check JS Included-->
<!-- <!DOCTYPE html>
<html>
<head>
    <title>CSP Landing Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light"> 
<div class="container mt-5">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Subscribe to Our Premium Service (YOLO Telecom)</h4>
        </div>
        <div class="card-body">
            <form id="subscribeForm" action="/subscribe" method="post">
                <div class="mb-3">
                    <label class="form-label">Mobile Number (MSISDN)</label>
                    <input type="text" name="msisdn" class="form-control" placeholder="Enter your number" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Offer Code</label>
                    <input type="text" name="offer_code" class="form-control" placeholder="Enter the Offer Code" required>
                </div>

                //Hidden fields to be filled by JS
                <input type="hidden" name="mf_id" id="mf_id">
                <input type="hidden" name="jwt_token" id="jwt_token">
                <input type="hidden" name="bot_status" id="bot_status">

                <button type="submit" class="btn btn-success">Subscribe</button>
            </form>

            <hr class="my-4">

            <div class="d-flex justify-content-between">
                <a href="/onboard" class="btn btn-warning">New? Onboard Here</a>
                <a href="/csp-login" class="btn btn-primary">Already Onboarded? Login</a>
            </div>
        </div>
    </div>
</div>

// mFilterIt JS SDK
<script defer src="https://rwh43see9h.execute-api.ap-south-1.amazonaws.com/_static/js/mf_vendor.bundle.js"></script>

<script>
    const VENDOR_KEY = "YOLO_VENDOR_001";
    const SESSION_ID = Date.now().toString();

    const form = document.getElementById('subscribeForm');

    form.addEventListener('submit', function (e) {
        e.preventDefault();

        if (typeof getData === 'function') {
            getData(VENDOR_KEY, SESSION_ID).then(function (res) {
                console.log('Bot Check:', res);
                document.getElementById('mf_id').value = res.mf_id || '';
                document.getElementById('jwt_token').value = res.jwt_token || '';
                document.getElementById('bot_status').value = res.status;

                if (res.status === 1) {
                    alert("Suspicious behavior detected. Subscription blocked.");
                    return;
                }

                form.submit();
            });
        } else {
            alert("Bot detection script not loaded. Try again.");
        }
    });
</script>
</body>
</html>

